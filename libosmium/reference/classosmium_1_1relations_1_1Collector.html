<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Osmium: osmium::relations::Collector&lt; TCollector, TNodes, TWays, TRelations &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="osmium.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Osmium
   &#160;<span id="projectnumber">1.99</span>
   </div>
   <div id="projectbrief">Fast and flexible C++ library for working with OpenStreetMap data</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceosmium.html">osmium</a></li><li class="navelem"><a class="el" href="namespaceosmium_1_1relations.html">relations</a></li><li class="navelem"><a class="el" href="classosmium_1_1relations_1_1Collector.html">Collector</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classosmium_1_1relations_1_1Collector-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">osmium::relations::Collector&lt; TCollector, TNodes, TWays, TRelations &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="collector_8hpp_source.html">collector.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for osmium::relations::Collector&lt; TCollector, TNodes, TWays, TRelations &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classosmium_1_1relations_1_1Collector__coll__graph.png" border="0" usemap="#osmium_1_1relations_1_1Collector_3_01TCollector_00_01TNodes_00_01TWays_00_01TRelations_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="osmium_1_1relations_1_1Collector_3_01TCollector_00_01TNodes_00_01TWays_00_01TRelations_01_4_coll__map" id="osmium_1_1relations_1_1Collector_3_01TCollector_00_01TNodes_00_01TWays_00_01TRelations_01_4_coll__map">
<area shape="rect" id="node2" href="classosmium_1_1memory_1_1Buffer.html" title="osmium::memory::Buffer" alt="" coords="240,18,405,51"/><area shape="rect" id="node4" href="classosmium_1_1relations_1_1Collector_1_1HandlerPass2.html" title="osmium::relations::\lCollector\&lt; TCollector,\l TNodes, TWays, TRelations\l \&gt;::HandlerPass2" alt="" coords="227,74,419,171"/><area shape="rect" id="node6" href="classosmium_1_1handler_1_1Handler.html" title="osmium::handler::Handler" alt="" coords="5,106,176,139"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector_1_1HandlerPass1.html">HandlerPass1</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector_1_1HandlerPass2.html">HandlerPass2</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a30f8786f87b517759d3070bebf2c30f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a30f8786f87b517759d3070bebf2c30f8">Collector</a> ()</td></tr>
<tr class="separator:a30f8786f87b517759d3070bebf2c30f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a880455c94aa4871d5def4c5ee3ba54f3"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a880455c94aa4871d5def4c5ee3ba54f3">used_memory</a> () const </td></tr>
<tr class="separator:a880455c94aa4871d5def4c5ee3ba54f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada715d4128e78175fc71a2e8bb85cdb8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosmium_1_1relations_1_1Collector_1_1HandlerPass2.html">HandlerPass2</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#ada715d4128e78175fc71a2e8bb85cdb8">handler</a> (const <a class="el" href="classosmium_1_1relations_1_1Collector.html#aca8abcdc68eae22198f7d0ba9dec40a6">callback_func_type</a> &amp;<a class="el" href="classosmium_1_1relations_1_1Collector.html#a74aabd63e218c93be3451a50557d7476">callback</a>=nullptr)</td></tr>
<tr class="separator:ada715d4128e78175fc71a2e8bb85cdb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1263e44ae78a5af0c191b3e045f720d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosmium_1_1memory_1_1Buffer.html">osmium::memory::Buffer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a1263e44ae78a5af0c191b3e045f720d0">members_buffer</a> ()</td></tr>
<tr class="separator:a1263e44ae78a5af0c191b3e045f720d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50c2887072f185880001aba3b2507494"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a50c2887072f185880001aba3b2507494">get_offset</a> (<a class="el" href="namespaceosmium.html#a8a523b8c8e0d816b9f12a74aa5bc13b8">osmium::item_type</a> type, <a class="el" href="namespaceosmium.html#adec0e2e17949f9c61c353608d0960b70">osmium::object_id_type</a> id)</td></tr>
<tr class="separator:a50c2887072f185880001aba3b2507494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac521a8505df5cef2df5d42123c41ba59"><td class="memTemplParams" colspan="2">template&lt;class TIter &gt; </td></tr>
<tr class="memitem:ac521a8505df5cef2df5d42123c41ba59"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#ac521a8505df5cef2df5d42123c41ba59">read_relations</a> (TIter begin, TIter end)</td></tr>
<tr class="separator:ac521a8505df5cef2df5d42123c41ba59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afab0d324bd8b040853207d87c85a5cd2"><td class="memTemplParams" colspan="2">template&lt;class TSource &gt; </td></tr>
<tr class="memitem:afab0d324bd8b040853207d87c85a5cd2"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#afab0d324bd8b040853207d87c85a5cd2">read_relations</a> (TSource &amp;source)</td></tr>
<tr class="separator:afab0d324bd8b040853207d87c85a5cd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc0fa6c36f64d1c6113cefd09a1b5568"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#acc0fa6c36f64d1c6113cefd09a1b5568">moving_in_buffer</a> (size_t old_offset, size_t new_offset)</td></tr>
<tr class="separator:acc0fa6c36f64d1c6113cefd09a1b5568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeadf2f8b2f54b5a5ccb2610d381fd81f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#aeadf2f8b2f54b5a5ccb2610d381fd81f">possibly_purge_removed_members</a> ()</td></tr>
<tr class="separator:aeadf2f8b2f54b5a5ccb2610d381fd81f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a56f6274401e6c1fbe622be66c3a0b3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; const <br class="typebreak" />
<a class="el" href="classosmium_1_1Relation.html">osmium::Relation</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a7a56f6274401e6c1fbe622be66c3a0b3">get_incomplete_relations</a> () const </td></tr>
<tr class="separator:a7a56f6274401e6c1fbe622be66c3a0b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a2c51dcaac680e3eef94858c1c8b3901a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; MemberMeta &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a2c51dcaac680e3eef94858c1c8b3901a">member_meta</a> (const <a class="el" href="namespaceosmium.html#a8a523b8c8e0d816b9f12a74aa5bc13b8">item_type</a> type)</td></tr>
<tr class="separator:a2c51dcaac680e3eef94858c1c8b3901a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74aabd63e218c93be3451a50557d7476"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosmium_1_1relations_1_1Collector.html#aca8abcdc68eae22198f7d0ba9dec40a6">callback_func_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a74aabd63e218c93be3451a50557d7476">callback</a> ()</td></tr>
<tr class="separator:a74aabd63e218c93be3451a50557d7476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab997c7c1486aface5ba10ab9e9fec6cc"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; RelationMeta &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#ab997c7c1486aface5ba10ab9e9fec6cc">relations</a> () const </td></tr>
<tr class="separator:ab997c7c1486aface5ba10ab9e9fec6cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b69583b9cab6f5a52eb94145690d104"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a6b69583b9cab6f5a52eb94145690d104">keep_relation</a> (const <a class="el" href="classosmium_1_1Relation.html">osmium::Relation</a> &amp;) const </td></tr>
<tr class="separator:a6b69583b9cab6f5a52eb94145690d104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f8d54db92f1db7267f3ee58ed981426"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a7f8d54db92f1db7267f3ee58ed981426">keep_member</a> (const osmium::relations::RelationMeta &amp;, const <a class="el" href="classosmium_1_1RelationMember.html">osmium::RelationMember</a> &amp;) const </td></tr>
<tr class="separator:a7f8d54db92f1db7267f3ee58ed981426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc0d8b7412f9de8c53f0d8fd78537204"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#adc0d8b7412f9de8c53f0d8fd78537204">node_not_in_any_relation</a> (const <a class="el" href="classosmium_1_1Node.html">osmium::Node</a> &amp;)</td></tr>
<tr class="separator:adc0d8b7412f9de8c53f0d8fd78537204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70c79e7823401a98f91bba07f1bb97fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a70c79e7823401a98f91bba07f1bb97fa">way_not_in_any_relation</a> (const <a class="el" href="classosmium_1_1Way.html">osmium::Way</a> &amp;)</td></tr>
<tr class="separator:a70c79e7823401a98f91bba07f1bb97fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c075eb9d85bfcfc559c8a8fd87b7601"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a7c075eb9d85bfcfc559c8a8fd87b7601">relation_not_in_any_relation</a> (const <a class="el" href="classosmium_1_1Relation.html">osmium::Relation</a> &amp;)</td></tr>
<tr class="separator:a7c075eb9d85bfcfc559c8a8fd87b7601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7207095b53feb948d5a10f52bb88476c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a7207095b53feb948d5a10f52bb88476c">flush</a> ()</td></tr>
<tr class="separator:a7207095b53feb948d5a10f52bb88476c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a381fb90f14180a5f63323c43c02c6f02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a381fb90f14180a5f63323c43c02c6f02">clean_assembled_relations</a> ()</td></tr>
<tr class="separator:a381fb90f14180a5f63323c43c02c6f02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadba324d182e46c2bd1a4d332f3c95c0"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classosmium_1_1Relation.html">osmium::Relation</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#aadba324d182e46c2bd1a4d332f3c95c0">get_relation</a> (size_t offset) const </td></tr>
<tr class="separator:aadba324d182e46c2bd1a4d332f3c95c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab64720bb52a60848387ac6f15d6ec757"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classosmium_1_1Relation.html">osmium::Relation</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#ab64720bb52a60848387ac6f15d6ec757">get_relation</a> (const RelationMeta &amp;relation_meta) const </td></tr>
<tr class="separator:ab64720bb52a60848387ac6f15d6ec757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a251b0f3217bbc8f63e7b2138e79159dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosmium_1_1OSMObject.html">osmium::OSMObject</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a251b0f3217bbc8f63e7b2138e79159dd">get_member</a> (size_t offset) const </td></tr>
<tr class="separator:a251b0f3217bbc8f63e7b2138e79159dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38b66f4ae9d27722bfbad9f375246cfd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a38b66f4ae9d27722bfbad9f375246cfd">add_relation</a> (const <a class="el" href="classosmium_1_1Relation.html">osmium::Relation</a> &amp;relation)</td></tr>
<tr class="separator:a38b66f4ae9d27722bfbad9f375246cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a388915996a2843ab798b1224e9a7b7ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a388915996a2843ab798b1224e9a7b7ca">sort_member_meta</a> ()</td></tr>
<tr class="separator:a388915996a2843ab798b1224e9a7b7ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:aca8abcdc68eae22198f7d0ba9dec40a6"><td class="memItemLeft" align="right" valign="top">typedef std::function&lt; void(const <br class="typebreak" />
<a class="el" href="classosmium_1_1memory_1_1Buffer.html">osmium::memory::Buffer</a> &amp;)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#aca8abcdc68eae22198f7d0ba9dec40a6">callback_func_type</a></td></tr>
<tr class="separator:aca8abcdc68eae22198f7d0ba9dec40a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae9ac54ec1d5bf36106609caedfd1a179"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosmium_1_1relations_1_1Collector_1_1HandlerPass2.html">HandlerPass2</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#ae9ac54ec1d5bf36106609caedfd1a179">m_handler_pass2</a></td></tr>
<tr class="separator:ae9ac54ec1d5bf36106609caedfd1a179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed50c5470760625f19897eb4ab62ed6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosmium_1_1memory_1_1Buffer.html">osmium::memory::Buffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#aed50c5470760625f19897eb4ab62ed6d">m_relations_buffer</a></td></tr>
<tr class="separator:aed50c5470760625f19897eb4ab62ed6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a976c772fec3c573f2f759f1a772f753d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosmium_1_1memory_1_1Buffer.html">osmium::memory::Buffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a976c772fec3c573f2f759f1a772f753d">m_members_buffer</a></td></tr>
<tr class="separator:a976c772fec3c573f2f759f1a772f753d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e8fb612f335a70bcf0a08555399672c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; RelationMeta &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a6e8fb612f335a70bcf0a08555399672c">m_relations</a></td></tr>
<tr class="memdesc:a6e8fb612f335a70bcf0a08555399672c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector with all relations we are interested in.  <a href="#a6e8fb612f335a70bcf0a08555399672c">More...</a><br /></td></tr>
<tr class="separator:a6e8fb612f335a70bcf0a08555399672c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a949d8102ed0296957e16e17690eb19"><td class="memItemLeft" align="right" valign="top">std::vector&lt; MemberMeta &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a9a949d8102ed0296957e16e17690eb19">m_member_meta</a> [3]</td></tr>
<tr class="separator:a9a949d8102ed0296957e16e17690eb19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb695b4c349f85470aa0a3c2d4acc213"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#abb695b4c349f85470aa0a3c2d4acc213">m_count_complete</a> = 0</td></tr>
<tr class="separator:abb695b4c349f85470aa0a3c2d4acc213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a273eb530e47be57f9c86aff9977f318a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classosmium_1_1relations_1_1Collector.html#aca8abcdc68eae22198f7d0ba9dec40a6">callback_func_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a273eb530e47be57f9c86aff9977f318a">m_callback</a></td></tr>
<tr class="separator:a273eb530e47be57f9c86aff9977f318a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a476da8c6ee506afcb5c40fb378ba3adc"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classosmium_1_1relations_1_1Collector.html#a476da8c6ee506afcb5c40fb378ba3adc">initial_buffer_size</a> = 1024 * 1024</td></tr>
<tr class="separator:a476da8c6ee506afcb5c40fb378ba3adc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt;<br />
class osmium::relations::Collector&lt; TCollector, TNodes, TWays, TRelations &gt;</h3>

<p>The <a class="el" href="classosmium_1_1relations_1_1Collector.html">Collector</a> class collects members of a relation. This is a generic base class that can be used to assemble all kinds of relations. It has numerous hooks you can implement in derived classes to customize its behaviour.</p>
<p>The collector provides two handlers (<a class="el" href="classosmium_1_1relations_1_1Collector_1_1HandlerPass1.html">HandlerPass1</a> and <a class="el" href="classosmium_1_1relations_1_1Collector_1_1HandlerPass2.html">HandlerPass2</a>) for a first and second pass through an input file, respectively. In the first pass all relations we are interested in are stored in RelationMeta objects in the m_relations vector. All members we are interested in are stored in MemberMeta objects in the m_member_meta vectors. The MemberMeta objects also store the information where the relations containing those members are to be found.</p>
<p>Later the m_member_meta vectors are sorted according to the member ids so that a binary search (with std::equal_range) can be used in the second pass to find the parent relations for each node, way, or relation coming along. The member objects are stored together with their relation and once a relation is complete the complete_relation() method is called which you must overwrite in a derived class of <a class="el" href="classosmium_1_1relations_1_1Collector.html">Collector</a>.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">TCollector</td><td>Derived class of this class.</td></tr>
    <tr><td class="paramname">TNodes</td><td>Are we interested in member nodes?</td></tr>
    <tr><td class="paramname">TWays</td><td>Are we interested in member ways?</td></tr>
    <tr><td class="paramname">TRelations</td><td>Are we interested in member relations? </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="aca8abcdc68eae22198f7d0ba9dec40a6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::function&lt;void(const <a class="el" href="classosmium_1_1memory_1_1Buffer.html">osmium::memory::Buffer</a>&amp;)&gt; <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::<a class="el" href="classosmium_1_1relations_1_1Collector.html#aca8abcdc68eae22198f7d0ba9dec40a6">callback_func_type</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a30f8786f87b517759d3070bebf2c30f8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::<a class="el" href="classosmium_1_1relations_1_1Collector.html">Collector</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create an <a class="el" href="classosmium_1_1relations_1_1Collector.html">Collector</a>. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a38b66f4ae9d27722bfbad9f375246cfd"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::add_relation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classosmium_1_1Relation.html">osmium::Relation</a> &amp;&#160;</td>
          <td class="paramname"><em>relation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Tell the <a class="el" href="classosmium_1_1relations_1_1Collector.html">Collector</a> that you are interested in this relation and want it kept until all members have been assembled and it is handed back to you.</p>
<p>The relation is copied and stored in a buffer inside the collector. </p>

</div>
</div>
<a class="anchor" id="a74aabd63e218c93be3451a50557d7476"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosmium_1_1relations_1_1Collector.html#aca8abcdc68eae22198f7d0ba9dec40a6">callback_func_type</a> <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::callback </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a381fb90f14180a5f63323c43c02c6f02"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::clean_assembled_relations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This removes all relations that have already been assembled from the m_relations vector. </p>

</div>
</div>
<a class="anchor" id="a7207095b53feb948d5a10f52bb88476c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method is called from the 2nd pass handler when all objects of types we are interested in have been seen.</p>
<p>Overwrite this method in a child class if you are interested in this.</p>
<p>Note that even after this call members might be missing if they were not in the input file! The derived class has to handle this case. </p>

</div>
</div>
<a class="anchor" id="a7a56f6274401e6c1fbe622be66c3a0b3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;const <a class="el" href="classosmium_1_1Relation.html">osmium::Relation</a>*&gt; <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::get_incomplete_relations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a vector with pointers to all Relations that could not be completed, because members were missing in the input data.</p>
<p>Note that these pointers point into memory allocated and owned by the <a class="el" href="classosmium_1_1relations_1_1Collector.html">Collector</a> object. </p>

</div>
</div>
<a class="anchor" id="a251b0f3217bbc8f63e7b2138e79159dd"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosmium_1_1OSMObject.html">osmium::OSMObject</a>&amp; <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::get_member </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a50c2887072f185880001aba3b2507494"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::get_offset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceosmium.html#a8a523b8c8e0d816b9f12a74aa5bc13b8">osmium::item_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceosmium.html#adec0e2e17949f9c61c353608d0960b70">osmium::object_id_type</a>&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aadba324d182e46c2bd1a4d332f3c95c0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classosmium_1_1Relation.html">osmium::Relation</a>&amp; <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::get_relation </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab64720bb52a60848387ac6f15d6ec757"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classosmium_1_1Relation.html">osmium::Relation</a>&amp; <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::get_relation </td>
          <td>(</td>
          <td class="paramtype">const RelationMeta &amp;&#160;</td>
          <td class="paramname"><em>relation_meta</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the relation from a relation_meta. </p>

</div>
</div>
<a class="anchor" id="ada715d4128e78175fc71a2e8bb85cdb8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosmium_1_1relations_1_1Collector_1_1HandlerPass2.html">HandlerPass2</a>&amp; <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::handler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classosmium_1_1relations_1_1Collector.html#aca8abcdc68eae22198f7d0ba9dec40a6">callback_func_type</a> &amp;&#160;</td>
          <td class="paramname"><em>callback</em> = <code>nullptr</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return reference to second pass handler. </p>

</div>
</div>
<a class="anchor" id="a7f8d54db92f1db7267f3ee58ed981426"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::keep_member </td>
          <td>(</td>
          <td class="paramtype">const osmium::relations::RelationMeta &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classosmium_1_1RelationMember.html">osmium::RelationMember</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method is called for every member of every relation that should be kept. It should decide if the member is interesting or not and return true or false to signal that. Only interesting members are later added to the relation.</p>
<p>Overwrite this method in a child class. In the MultiPolygonCollector this is for instance used to only keep members of type way and ignore all others. </p>

</div>
</div>
<a class="anchor" id="a6b69583b9cab6f5a52eb94145690d104"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::keep_relation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classosmium_1_1Relation.html">osmium::Relation</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method is called from the first pass handler for every relation in the input, to check whether it should be kept.</p>
<p>Overwrite this method in a child class to only add relations you are interested in, for instance depending on the type tag. Storing relations takes a lot of memory, so it makes sense to filter this as much as possible. </p>

</div>
</div>
<a class="anchor" id="a2c51dcaac680e3eef94858c1c8b3901a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;MemberMeta&gt;&amp; <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::member_meta </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceosmium.html#a8a523b8c8e0d816b9f12a74aa5bc13b8">item_type</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1263e44ae78a5af0c191b3e045f720d0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosmium_1_1memory_1_1Buffer.html">osmium::memory::Buffer</a>&amp; <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::members_buffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acc0fa6c36f64d1c6113cefd09a1b5568"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::moving_in_buffer </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>old_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>new_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="adc0d8b7412f9de8c53f0d8fd78537204"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::node_not_in_any_relation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classosmium_1_1Node.html">osmium::Node</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method is called for all nodes that are not a member of any relation.</p>
<p>Overwrite this method in a child class if you are interested in this. </p>

</div>
</div>
<a class="anchor" id="aeadf2f8b2f54b5a5ccb2610d381fd81f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::possibly_purge_removed_members </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Decide whether to purge removed members and then do it.</p>
<p>Currently the purging is done every thousand calls. This could probably be improved upon. </p>

</div>
</div>
<a class="anchor" id="ac521a8505df5cef2df5d42123c41ba59"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<div class="memtemplate">
template&lt;class TIter &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::read_relations </td>
          <td>(</td>
          <td class="paramtype">TIter&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TIter&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afab0d324bd8b040853207d87c85a5cd2"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<div class="memtemplate">
template&lt;class TSource &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::read_relations </td>
          <td>(</td>
          <td class="paramtype">TSource &amp;&#160;</td>
          <td class="paramname"><em>source</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7c075eb9d85bfcfc559c8a8fd87b7601"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::relation_not_in_any_relation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classosmium_1_1Relation.html">osmium::Relation</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method is called for all relations that are not a member of any relation.</p>
<p>Overwrite this method in a child class if you are interested in this. </p>

</div>
</div>
<a class="anchor" id="ab997c7c1486aface5ba10ab9e9fec6cc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;RelationMeta&gt;&amp; <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::relations </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a388915996a2843ab798b1224e9a7b7ca"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::sort_member_meta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sort the vectors with the member infos so that we can do binary search on them. </p>

</div>
</div>
<a class="anchor" id="a880455c94aa4871d5def4c5ee3ba54f3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::used_memory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a70c79e7823401a98f91bba07f1bb97fa"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::way_not_in_any_relation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classosmium_1_1Way.html">osmium::Way</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method is called for all ways that are not a member of any relation.</p>
<p>Overwrite this method in a child class if you are interested in this. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a476da8c6ee506afcb5c40fb378ba3adc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::initial_buffer_size = 1024 * 1024</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a273eb530e47be57f9c86aff9977f318a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosmium_1_1relations_1_1Collector.html#aca8abcdc68eae22198f7d0ba9dec40a6">callback_func_type</a> <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::m_callback</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abb695b4c349f85470aa0a3c2d4acc213"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::m_count_complete = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae9ac54ec1d5bf36106609caedfd1a179"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosmium_1_1relations_1_1Collector_1_1HandlerPass2.html">HandlerPass2</a> <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::m_handler_pass2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9a949d8102ed0296957e16e17690eb19"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;MemberMeta&gt; <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::m_member_meta[3]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>One vector each for nodes, ways, and relations containing all mappings from member ids to their relations. </p>

</div>
</div>
<a class="anchor" id="a976c772fec3c573f2f759f1a772f753d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosmium_1_1memory_1_1Buffer.html">osmium::memory::Buffer</a> <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::m_members_buffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6e8fb612f335a70bcf0a08555399672c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;RelationMeta&gt; <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::m_relations</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Vector with all relations we are interested in. </p>

</div>
</div>
<a class="anchor" id="aed50c5470760625f19897eb4ab62ed6d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class TCollector, bool TNodes, bool TWays, bool TRelations&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classosmium_1_1memory_1_1Buffer.html">osmium::memory::Buffer</a> <a class="el" href="classosmium_1_1relations_1_1Collector.html">osmium::relations::Collector</a>&lt; TCollector, TNodes, TWays, TRelations &gt;::m_relations_buffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/osmium/relations/<a class="el" href="collector_8hpp_source.html">collector.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 29 2014 14:06:11 for Osmium by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
